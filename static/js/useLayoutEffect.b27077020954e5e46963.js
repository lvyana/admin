"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[6771],{68792:function(e,n,t){t.d(n,{Z:function(){return i}}),t(72791);var a=t(16421),l=t(1413),r=t(83298),c=t(80184),i=function(e){var n=e.list,t=e.defaultActiveKey,i=e.styleConfig,o=e.bordered,s=void 0===o||o,d=e.onChange,u=e.expandIcon,f=function(e){var n=e.list,t=e.styleConfig,a=e.style,c=e.bordered,i=(0,r.Z)().token,o={marginBottom:24,background:i.colorFillAlter,borderRadius:i.borderRadiusLG,border:"none"};return"1"===t?{list:null==n?void 0:n.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{style:o})})),style:{background:i.colorBgContainer},bordered:!1}:{list:n,styleConfig:t,style:a,bordered:c}}({list:n,styleConfig:i,style:e.style,bordered:s});return(0,c.jsx)(a.Z,{bordered:f.bordered,defaultActiveKey:t,onChange:d,expandIcon:u,style:f.style,items:f.list})}},24861:function(e,n,t){t.r(n);var a=t(29439),l=t(72791),r=t(94805),c=t(68792),i=t(87309),o=t(57689),s=t(80184);n.default=function(){var e=(0,o.s0)(),n=(0,l.useState)(0),t=(0,a.Z)(n,2),d=t[0],u=t[1],f=(0,l.useState)(0),v=(0,a.Z)(f,2),y=v[0],p=v[1];(0,l.useEffect)((function(){p(11)}),[]),(0,l.useLayoutEffect)((function(){u(1),u(2),p(10)}),[]);var h=[{label:"执行机制",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:"1、浏览器渲染页面之前 DOM 更新之后同步执行,会阻塞渲染"}),(0,s.jsx)("div",{children:"2、建议修改 DOM 在useLayoutEffect执行"})]}),key:"0"},{label:"reader机制",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:"1、useLayoutEffect 内更新数据,会进行合并处理,只会 reader 一次"}),(0,s.jsx)("div",{children:"2、useLayoutEffect 内更新数据,会 reader 一次,不会和 useEffect 合并处理"}),(0,s.jsx)("div",{children:"3、useEffect 执行在渲染之后,更新数据会导致页面看到 0 -> 1,而 useLayoutEffect 在渲染之前更新,页面只会看到更新后的数据"})]}),key:"1"},{label:"参数执行机制",children:(0,s.jsxs)("div",{children:["参照 useEffect",(0,s.jsx)(i.ZP,{type:"link",onClick:function(){e("/react/hooks/useEffect")},children:"跳转"})]}),key:"2"},{label:"测试是否阻塞",children:(0,s.jsx)("div",{children:"useEffect 内执行1000000000循环,我认为 useEffect 也阻塞了渲染"}),key:"3"}];return(0,s.jsxs)(r.Z,{children:[(0,s.jsxs)("div",{children:["useLayoutEffect不会闪烁:",d]}),(0,s.jsxs)("div",{children:["useEffect会闪烁:",y]}),(0,s.jsx)(c.Z,{styleConfig:"1",defaultActiveKey:["0"],list:h})]})}},70365:function(e,n,t){t.d(n,{Z:function(){return g}});var a=t(29439),l=t(93433),r=t(71002),c=t(81694),i=t.n(c),o=t(75179),s=t(60632),d=t(72791),u=t(87462),f=t(44925),v=t(85501),y=t(4942),p=t(98568),h=t(11354),m=d.forwardRef((function(e,n){var t,l=e.prefixCls,r=e.forceRender,c=e.className,o=e.style,s=e.children,u=e.isActive,f=e.role,v=d.useState(u||r),p=(0,a.Z)(v,2),h=p[0],m=p[1];return d.useEffect((function(){(r||u)&&m(!0)}),[r,u]),h?d.createElement("div",{ref:n,className:i()("".concat(l,"-content"),(t={},(0,y.Z)(t,"".concat(l,"-content-active"),u),(0,y.Z)(t,"".concat(l,"-content-inactive"),!u),t),c),style:o,role:f},d.createElement("div",{className:"".concat(l,"-content-box")},s)):null}));m.displayName="PanelContent";var b=m,x=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],C=d.forwardRef((function(e,n){var t,a,l=e.showArrow,r=void 0===l||l,c=e.headerClass,o=e.isActive,s=e.onItemClick,v=e.forceRender,m=e.className,C=e.prefixCls,k=e.collapsible,Z=e.accordion,E=e.panelKey,I=e.extra,g=e.header,N=e.expandIcon,j=e.openMotion,P=e.destroyInactivePanel,A=e.children,w=(0,f.Z)(e,x),K="disabled"===k,R="header"===k,M="icon"===k,L=null!=I&&"boolean"!=typeof I,O=function(){null==s||s(E)},S="function"==typeof N?N(e):d.createElement("i",{className:"arrow"});S&&(S=d.createElement("div",{className:"".concat(C,"-expand-icon"),onClick:["header","icon"].includes(k)?O:void 0},S));var D=i()((t={},(0,y.Z)(t,"".concat(C,"-item"),!0),(0,y.Z)(t,"".concat(C,"-item-active"),o),(0,y.Z)(t,"".concat(C,"-item-disabled"),K),t),m),B={className:i()((a={},(0,y.Z)(a,"".concat(C,"-header"),!0),(0,y.Z)(a,"headerClass",c),(0,y.Z)(a,"".concat(C,"-header-collapsible-only"),R),(0,y.Z)(a,"".concat(C,"-icon-collapsible-only"),M),a)),"aria-expanded":o,"aria-disabled":K,onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==h.Z.ENTER&&e.which!==h.Z.ENTER||O()}};return R||M||(B.onClick=O,B.role=Z?"tab":"button",B.tabIndex=K?-1:0),d.createElement("div",(0,u.Z)({},w,{ref:n,className:D}),d.createElement("div",B,r&&S,d.createElement("span",{className:"".concat(C,"-header-text"),onClick:"header"===k?O:void 0},g),L&&d.createElement("div",{className:"".concat(C,"-extra")},I)),d.createElement(p.ZP,(0,u.Z)({visible:o,leavedClassName:"".concat(C,"-content-hidden")},j,{forceRender:v,removeOnLeave:P}),(function(e,n){var t=e.className,a=e.style;return d.createElement(b,{ref:n,prefixCls:C,className:t,style:a,isActive:o,forceRender:v,role:Z?"tabpanel":void 0},A)})))})),k=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];function Z(e){var n=e;if(!Array.isArray(n)){var t=(0,r.Z)(n);n="number"===t||"string"===t?[n]:[]}return n.map((function(e){return String(e)}))}var E=d.forwardRef((function(e,n){var t=e.prefixCls,r=void 0===t?"rc-collapse":t,c=e.destroyInactivePanel,y=void 0!==c&&c,p=e.style,h=e.accordion,m=e.className,b=e.children,x=e.collapsible,E=e.openMotion,I=e.expandIcon,g=e.activeKey,N=e.defaultActiveKey,j=e.onChange,P=e.items,A=i()(r,m),w=(0,o.Z)([],{value:g,onChange:function(e){return null==j?void 0:j(e)},defaultValue:N,postState:Z}),K=(0,a.Z)(w,2),R=K[0],M=K[1];(0,s.ZP)(!b,"`children` will be removed in next major version. Please use `items` instead.");var L=function(e,n,t){return Array.isArray(e)?function(e,n){var t=n.prefixCls,a=n.accordion,l=n.collapsible,r=n.destroyInactivePanel,c=n.onItemClick,i=n.activeKey,o=n.openMotion,s=n.expandIcon;return e.map((function(e,n){var v,y=e.children,p=e.label,h=e.key,m=e.collapsible,b=e.onItemClick,x=e.destroyInactivePanel,Z=(0,f.Z)(e,k),E=String(null!=h?h:n),I=null!=m?m:l,g=null!=x?x:r;return v=a?i[0]===E:i.indexOf(E)>-1,d.createElement(C,(0,u.Z)({},Z,{prefixCls:t,key:E,panelKey:E,isActive:v,accordion:a,openMotion:o,expandIcon:s,header:p,collapsible:I,onItemClick:function(e){"disabled"!==I&&(c(e),null==b||b(e))},destroyInactivePanel:g}),y)}))}(e,t):(0,v.Z)(n).map((function(e,n){return function(e,n,t){if(!e)return null;var a,l=t.prefixCls,r=t.accordion,c=t.collapsible,i=t.destroyInactivePanel,o=t.onItemClick,s=t.activeKey,u=t.openMotion,f=t.expandIcon,v=e.key||String(n),y=e.props,p=y.header,h=y.headerClass,m=y.destroyInactivePanel,b=y.collapsible,x=y.onItemClick;a=r?s[0]===v:s.indexOf(v)>-1;var C=null!=b?b:c,k={key:v,panelKey:v,header:p,headerClass:h,isActive:a,prefixCls:l,destroyInactivePanel:null!=m?m:i,openMotion:u,accordion:r,children:e.props.children,onItemClick:function(e){"disabled"!==C&&(o(e),null==x||x(e))},expandIcon:f,collapsible:C};return"string"==typeof e.type?e:(Object.keys(k).forEach((function(e){void 0===k[e]&&delete k[e]})),d.cloneElement(e,k))}(e,n,t)}))}(P,b,{prefixCls:r,accordion:h,openMotion:E,expandIcon:I,collapsible:x,destroyInactivePanel:y,onItemClick:function(e){return M((function(){return h?R[0]===e?[]:[e]:R.indexOf(e)>-1?R.filter((function(n){return n!==e})):[].concat((0,l.Z)(R),[e])}))},activeKey:R});return d.createElement("div",{ref:n,className:A,style:p,role:h?"tablist":void 0},L)})),I=Object.assign(E,{Panel:C}),g=I;I.Panel}}]);
//# sourceMappingURL=useLayoutEffect.b27077020954e5e46963.js.map