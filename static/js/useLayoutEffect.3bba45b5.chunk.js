"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[6771],{68792:(e,n,t)=>{t.d(n,{Z:()=>o});t(72791);var a=t(16421),l=t(83298);const c=e=>{let{items:n,styleConfig:t,style:a,bordered:c}=e;const{token:r}=(0,l.Z)(),o={marginBottom:24,background:r.colorFillAlter,borderRadius:r.borderRadiusLG,border:"none"};if("1"===t){return{list:null==n?void 0:n.map((e=>({...e,style:o}))),style:{background:r.colorBgContainer},bordered:!1}}return{items:n,styleConfig:t,style:a,bordered:c}};var r=t(80184);const o=e=>{let{...n}=e;const{items:t,styleConfig:l,style:o,bordered:i,...s}=n,d=c({items:t,styleConfig:l,style:o,bordered:i});return(0,r.jsx)(a.Z,{...s,bordered:d.bordered,style:d.style,items:d.list})}},24861:(e,n,t)=>{t.r(n),t.d(n,{default:()=>s});var a=t(72791),l=t(94805),c=t(68792),r=t(2641),o=t(57689),i=t(80184);const s=()=>{const e=(0,o.s0)(),[n,t]=(0,a.useState)(0),[s,d]=(0,a.useState)(0);(0,a.useEffect)((()=>{d(11)}),[]),(0,a.useLayoutEffect)((()=>{t(1),t(2),d(10)}),[]);const f=[{label:"执行机制",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:"1、浏览器渲染页面之前 DOM 更新之后同步执行,会阻塞渲染"}),(0,i.jsx)("div",{children:"2、建议修改 DOM 在useLayoutEffect执行"})]}),key:"0"},{label:"reader机制",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:"1、useLayoutEffect 内更新数据,会进行合并处理,只会 reader 一次"}),(0,i.jsx)("div",{children:"2、useLayoutEffect 内更新数据,会 reader 一次,不会和 useEffect 合并处理"}),(0,i.jsx)("div",{children:"3、useEffect 执行在渲染之后,更新数据会导致页面看到 0 -> 1,而 useLayoutEffect 在渲染之前更新,页面只会看到更新后的数据"})]}),key:"1"},{label:"参数执行机制",children:(0,i.jsxs)("div",{children:["参照 useEffect",(0,i.jsx)(r.ZP,{type:"link",onClick:()=>{e("/react/hooks/useEffect")},children:"跳转"})]}),key:"2"},{label:"测试是否阻塞",children:(0,i.jsx)("div",{children:"useEffect 内执行1000000000循环,我认为 useEffect 也阻塞了渲染"}),key:"3"}];return(0,i.jsxs)(l.Z,{children:[(0,i.jsxs)("div",{children:["useLayoutEffect不会闪烁:",n]}),(0,i.jsxs)("div",{children:["useEffect会闪烁:",s]}),(0,i.jsx)(c.Z,{styleConfig:"1",defaultActiveKey:["0"],items:f})]})}},70365:(e,n,t)=>{t.d(n,{Z:()=>j});var a=t(93433),l=t(29439),c=t(71002),r=t(81694),o=t.n(r),i=t(75179),s=t(60632),d=t(72791),f=t(87462),u=t(44925),v=t(85501),p=t(4942),y=t(98568),m=t(11354),h=d.forwardRef((function(e,n){var t,a=e.prefixCls,c=e.forceRender,r=e.className,i=e.style,s=e.children,f=e.isActive,u=e.role,v=d.useState(f||c),y=(0,l.Z)(v,2),m=y[0],h=y[1];return d.useEffect((function(){(c||f)&&h(!0)}),[c,f]),m?d.createElement("div",{ref:n,className:o()("".concat(a,"-content"),(t={},(0,p.Z)(t,"".concat(a,"-content-active"),f),(0,p.Z)(t,"".concat(a,"-content-inactive"),!f),t),r),style:i,role:u},d.createElement("div",{className:"".concat(a,"-content-box")},s)):null}));h.displayName="PanelContent";const b=h;var x=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"];const C=d.forwardRef((function(e,n){var t,a,l=e.showArrow,c=void 0===l||l,r=e.headerClass,i=e.isActive,s=e.onItemClick,v=e.forceRender,h=e.className,C=e.prefixCls,k=e.collapsible,E=e.accordion,I=e.panelKey,Z=e.extra,N=e.header,j=e.expandIcon,P=e.openMotion,g=e.destroyInactivePanel,A=e.children,w=(0,u.Z)(e,x),R="disabled"===k,K="header"===k,M="icon"===k,L=null!=Z&&"boolean"!=typeof Z,O=function(){null==s||s(I)},S="function"==typeof j?j(e):d.createElement("i",{className:"arrow"});S&&(S=d.createElement("div",{className:"".concat(C,"-expand-icon"),onClick:["header","icon"].includes(k)?O:void 0},S));var D=o()((t={},(0,p.Z)(t,"".concat(C,"-item"),!0),(0,p.Z)(t,"".concat(C,"-item-active"),i),(0,p.Z)(t,"".concat(C,"-item-disabled"),R),t),h),B={className:o()(r,(a={},(0,p.Z)(a,"".concat(C,"-header"),!0),(0,p.Z)(a,"".concat(C,"-header-collapsible-only"),K),(0,p.Z)(a,"".concat(C,"-icon-collapsible-only"),M),a)),"aria-expanded":i,"aria-disabled":R,onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==m.Z.ENTER&&e.which!==m.Z.ENTER||O()}};return K||M||(B.onClick=O,B.role=E?"tab":"button",B.tabIndex=R?-1:0),d.createElement("div",(0,f.Z)({},w,{ref:n,className:D}),d.createElement("div",B,c&&S,d.createElement("span",{className:"".concat(C,"-header-text"),onClick:"header"===k?O:void 0},N),L&&d.createElement("div",{className:"".concat(C,"-extra")},Z)),d.createElement(y.ZP,(0,f.Z)({visible:i,leavedClassName:"".concat(C,"-content-hidden")},P,{forceRender:v,removeOnLeave:g}),(function(e,n){var t=e.className,a=e.style;return d.createElement(b,{ref:n,prefixCls:C,className:t,style:a,isActive:i,forceRender:v,role:E?"tabpanel":void 0},A)})))}));var k=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];const E=function(e,n,t){return Array.isArray(e)?function(e,n){var t=n.prefixCls,a=n.accordion,l=n.collapsible,c=n.destroyInactivePanel,r=n.onItemClick,o=n.activeKey,i=n.openMotion,s=n.expandIcon;return e.map((function(e,n){var v=e.children,p=e.label,y=e.key,m=e.collapsible,h=e.onItemClick,b=e.destroyInactivePanel,x=(0,u.Z)(e,k),E=String(null!=y?y:n),I=null!=m?m:l,Z=null!=b?b:c,N=!1;return N=a?o[0]===E:o.indexOf(E)>-1,d.createElement(C,(0,f.Z)({},x,{prefixCls:t,key:E,panelKey:E,isActive:N,accordion:a,openMotion:i,expandIcon:s,header:p,collapsible:I,onItemClick:function(e){"disabled"!==I&&(r(e),null==h||h(e))},destroyInactivePanel:Z}),v)}))}(e,t):(0,v.Z)(n).map((function(e,n){return function(e,n,t){if(!e)return null;var a=t.prefixCls,l=t.accordion,c=t.collapsible,r=t.destroyInactivePanel,o=t.onItemClick,i=t.activeKey,s=t.openMotion,f=t.expandIcon,u=e.key||String(n),v=e.props,p=v.header,y=v.headerClass,m=v.destroyInactivePanel,h=v.collapsible,b=v.onItemClick,x=!1;x=l?i[0]===u:i.indexOf(u)>-1;var C=null!=h?h:c,k={key:u,panelKey:u,header:p,headerClass:y,isActive:x,prefixCls:a,destroyInactivePanel:null!=m?m:r,openMotion:s,accordion:l,children:e.props.children,onItemClick:function(e){"disabled"!==C&&(o(e),null==b||b(e))},expandIcon:f,collapsible:C};return"string"==typeof e.type?e:(Object.keys(k).forEach((function(e){void 0===k[e]&&delete k[e]})),d.cloneElement(e,k))}(e,n,t)}))};function I(e){var n=e;if(!Array.isArray(n)){var t=(0,c.Z)(n);n="number"===t||"string"===t?[n]:[]}return n.map((function(e){return String(e)}))}var Z=d.forwardRef((function(e,n){var t=e.prefixCls,c=void 0===t?"rc-collapse":t,r=e.destroyInactivePanel,f=void 0!==r&&r,u=e.style,v=e.accordion,p=e.className,y=e.children,m=e.collapsible,h=e.openMotion,b=e.expandIcon,x=e.activeKey,C=e.defaultActiveKey,k=e.onChange,Z=e.items,N=o()(c,p),j=(0,i.Z)([],{value:x,onChange:function(e){return null==k?void 0:k(e)},defaultValue:C,postState:I}),P=(0,l.Z)(j,2),g=P[0],A=P[1];(0,s.ZP)(!y,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var w=E(Z,y,{prefixCls:c,accordion:v,openMotion:h,expandIcon:b,collapsible:m,destroyInactivePanel:f,onItemClick:function(e){return A((function(){return v?g[0]===e?[]:[e]:g.indexOf(e)>-1?g.filter((function(n){return n!==e})):[].concat((0,a.Z)(g),[e])}))},activeKey:g});return d.createElement("div",{ref:n,className:N,style:u,role:v?"tablist":void 0},w)}));const N=Object.assign(Z,{Panel:C}),j=N;N.Panel}}]);