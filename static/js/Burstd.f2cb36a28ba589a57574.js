"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[2293],{90511:function(e,n,r){r.r(n);var t,a=r(93433),c=r(29439),i=r(87309),s=r(72791),u=r(94805),l=r(80184),o=Array.from({length:4e4},(function(e,n){return n})).map((function(e){return{name:"张三"+e,age:e,sex:e%2==0?"男":"女"}})),d=(0,s.memo)((function(e){var n=e.name,r=e.age,t=e.sex;return(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsxs)(u.Z,{children:[(0,l.jsxs)("div",{children:[" 姓名: ",n]}),(0,l.jsxs)("div",{children:["年龄:",r]}),(0,l.jsxs)("div",{children:[" 性别:",t]})]})})}));d.displayName="ReandList",n.default=function(){var e=(0,s.useState)([]),n=(0,c.Z)(e,2),r=n[0],f=n[1],h=(0,s.useRef)(0),m=function e(){var n=Math.ceil(o.length/500),r=o.slice(500*h.current,500*(h.current+1));if(h.current>=n)return window.cancelIdleCallback(t);f((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(r.map((function(e){return(0,l.jsx)(d,{name:e.name,age:e.age,sex:e.sex},e.age)}))))})),h.current+=1,t=requestIdleCallback((function(){e()}),{timeout:1500})};return(0,l.jsxs)(u.Z,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(i.ZP,{type:"primary",onClick:function(){m()},children:"优化渲染"}),(0,l.jsx)(i.ZP,{type:"primary",onClick:function(){f((0,a.Z)(o.map((function(e){return(0,l.jsx)(d,{name:e.name,age:e.age,sex:e.sex},e.age)}))))},children:"普通渲染"}),(0,l.jsx)(i.ZP,{type:"primary",onClick:function(){h.current=0,f([])},children:"清除数据"})]}),(0,l.jsx)("div",{style:{height:500,overflow:"auto"},children:r})]})}}}]);