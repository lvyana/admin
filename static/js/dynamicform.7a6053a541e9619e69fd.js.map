{"version":3,"file":"static/js/dynamicform.7a6053a541e9619e69fd.js","mappings":"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","sources":["views/antd/dynamicform/index.tsx"],"sourcesContent":["/**\r\n * @file 实现表单集合demo\r\n * @author ly\r\n * @createDate 2020年4月27日\r\n */\r\nimport React, { useState } from 'react';\r\nimport Iform from '@/antdComponents/iForm';\r\nimport { Form, Upload, message, Button } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport type {\r\n\tFormInputType,\r\n\tFormSelectType,\r\n\tFormRadioType,\r\n\tFormCheckboxType,\r\n\tFormRateType,\r\n\tFormTreeselectType,\r\n\tFormCascaderType,\r\n\tFormAlonePicker,\r\n\tFormBothPicker,\r\n\tFormInputNumberType,\r\n\tFormSwitchType,\r\n\tFormUploadType,\r\n\tFormButtonType,\r\n\tSelectValueType,\r\n\tFinishType\r\n} from '@/antdComponents/iForm/type';\r\nimport Icard from '@/antdComponents/iCard';\r\nimport { baseURL } from '@/api/request';\r\n\r\ntype SubmitParam = 'submit' | 'onReset';\r\n\r\ntype FormListType = [\r\n\tFormInputType,\r\n\tFormSelectType<{\r\n\t\tname: string;\r\n\t\tvalue: string;\r\n\t\tkey: number;\r\n\t}>,\r\n\tFormRadioType<{\r\n\t\ticon: string;\r\n\t\tvalue: string;\r\n\t\tname: string;\r\n\t\tkey: number;\r\n\t}>,\r\n\tFormRadioType<{\r\n\t\tname: string;\r\n\t\tvalue: string;\r\n\t\tkey: number;\r\n\t}>,\r\n\tFormCheckboxType<{\r\n\t\tlabel: string;\r\n\t\tvalue: string;\r\n\t\tkey: number;\r\n\t}>,\r\n\tFormRateType<string>,\r\n\tFormTreeselectType<{\r\n\t\ttitle: string;\r\n\t\tvalue: string;\r\n\t\tchildren?: {\r\n\t\t\ttitle: string;\r\n\t\t\tvalue: string;\r\n\t\t\tchildren?: number;\r\n\t\t}[];\r\n\t}>,\r\n\tFormCascaderType<{\r\n\t\tlabel: string;\r\n\t\tvalue: string;\r\n\t\tchildren?: {\r\n\t\t\tlabel: string;\r\n\t\t\tvalue: string;\r\n\t\t\tchildren?: number;\r\n\t\t}[];\r\n\t}>,\r\n\tFormAlonePicker,\r\n\tFormBothPicker,\r\n\tFormBothPicker,\r\n\tFormInputNumberType,\r\n\tFormSwitchType,\r\n\tFormUploadType,\r\n\tFormButtonType<SubmitParam>\r\n];\r\n\r\ntype FormListParam = {\r\n\tselectOnChange: (value: SelectValueType) => void;\r\n\tonSubmit: FinishType<SubmitParam>;\r\n};\r\n// #----------- 上: ts类型定义 ----------- 分割线 ----------- 下: JS代码 -----------\r\n\r\nconst Dynamicform = () => {\r\n\tconst selectOnChange = (value: SelectValueType) => {};\r\n\r\n\tconst onSubmit: FinishType<SubmitParam> = (type) => {\r\n\t\t// console.log(form.getFieldsValue());\r\n\t};\r\n\r\n\tconst { formList } = useFormList({ selectOnChange, onSubmit });\r\n\r\n\t//表单\r\n\tconst [form] = Form.useForm();\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Icard>\r\n\t\t\t\t<Iform<FormListType, object> formList={formList} form={form} />\r\n\t\t\t</Icard>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Dynamicform;\r\n\r\nconst useFormList = ({ selectOnChange, onSubmit }: FormListParam) => {\r\n\t// 参数\r\n\tconst formList: FormListType = [\r\n\t\t{\r\n\t\t\ttype: 'input',\r\n\t\t\tname: 'name',\r\n\t\t\tlabel: '姓名',\r\n\t\t\trules: [],\r\n\t\t\tkey: 1,\r\n\t\t\tspan: 24,\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'select',\r\n\t\t\tname: 'select',\r\n\t\t\tlabel: '下拉框',\r\n\t\t\trules: [],\r\n\t\t\tkey: 2,\r\n\t\t\tspan: 24,\r\n\t\t\tcomConfig: {\r\n\t\t\t\toption: [\r\n\t\t\t\t\t{ name: 'male', value: 'male', key: 1 },\r\n\t\t\t\t\t{ name: 'female', value: 'female', key: 2 }\r\n\t\t\t\t],\r\n\t\t\t\tonChange: selectOnChange,\r\n\t\t\t\tfieldNames: {\r\n\t\t\t\t\tlabel: 'name',\r\n\t\t\t\t\tvalue: 'value'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'radio',\r\n\t\t\tname: 'radioIcon',\r\n\t\t\tlabel: '图标单选框',\r\n\t\t\trules: [],\r\n\t\t\tkey: 3,\r\n\t\t\tspan: 24,\r\n\t\t\tcomConfig: {\r\n\t\t\t\toption: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticon: 'icon-taiyang',\r\n\t\t\t\t\t\tvalue: 'icon-zhuzhuangtu-dashuju',\r\n\t\t\t\t\t\tname: '太阳',\r\n\t\t\t\t\t\tkey: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticon: 'icon-ClearNight-qing-yewan',\r\n\t\t\t\t\t\tvalue: 'icon-drxx91',\r\n\t\t\t\t\t\tname: '月亮',\r\n\t\t\t\t\t\tkey: 2\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'radio',\r\n\t\t\tname: 'radio',\r\n\t\t\tlabel: '单选框',\r\n\t\t\trules: [],\r\n\t\t\tkey: 4,\r\n\t\t\tspan: 24,\r\n\t\t\tcomConfig: {\r\n\t\t\t\toption: [\r\n\t\t\t\t\t{ name: '按钮11111111', value: '1', key: 1 },\r\n\t\t\t\t\t{ name: '菜单222222222', value: '2', key: 2 }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'checkbox',\r\n\t\t\tname: 'checkbox',\r\n\t\t\tlabel: '多选框',\r\n\t\t\trules: [],\r\n\t\t\tkey: 5,\r\n\t\t\tspan: 24,\r\n\t\t\tcomConfig: {\r\n\t\t\t\toption: [\r\n\t\t\t\t\t{ label: '按钮', value: '1', key: 1 },\r\n\t\t\t\t\t{ label: '菜单', value: '2', key: 2 }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'rate',\r\n\t\t\tname: 'rate',\r\n\t\t\tlabel: '评分',\r\n\t\t\trules: [],\r\n\t\t\tkey: 6,\r\n\t\t\tspan: 24,\r\n\t\t\tcomConfig: {\r\n\t\t\t\toption: ['terrible', 'bad', 'normal', 'good', 'wonderful']\r\n\t\t\t},\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'treeSelect',\r\n\t\t\tname: 'treeSelect',\r\n\t\t\tlabel: '下拉树',\r\n\t\t\trules: [],\r\n\t\t\tkey: 7,\r\n\t\t\tspan: 24,\r\n\t\t\tcomConfig: {\r\n\t\t\t\toption: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Light122222222222',\r\n\t\t\t\t\t\tvalue: 'light',\r\n\t\t\t\t\t\tchildren: [{ title: 'Bamboo', value: 'bamboo' }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Light22333333333333',\r\n\t\t\t\t\t\tvalue: 'light2',\r\n\t\t\t\t\t\tchildren: [{ title: 'Bamboo2', value: 'bamboo2' }]\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tcheckbox: true\r\n\t\t\t},\r\n\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'cascader',\r\n\t\t\tname: 'cascader',\r\n\t\t\tlabel: '联级',\r\n\t\t\trules: [],\r\n\t\t\tkey: 8,\r\n\t\t\tspan: 24,\r\n\t\t\tcomConfig: {\r\n\t\t\t\toption: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'zhejiang',\r\n\t\t\t\t\t\tlabel: 'Zhejiang',\r\n\t\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvalue: 'hangzhou',\r\n\t\t\t\t\t\t\t\tlabel: 'Hangzhou'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'datePicker',\r\n\t\t\tname: 'date',\r\n\t\t\tlabel: '时间',\r\n\t\t\trules: [],\r\n\t\t\tkey: 9,\r\n\t\t\tspan: 24,\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'rangePicker',\r\n\t\t\tname: 'rangePicker',\r\n\t\t\tlabel: '时间区间',\r\n\t\t\trules: [],\r\n\t\t\tkey: 10,\r\n\t\t\tspan: 24,\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'timeRangePicker',\r\n\t\t\tname: 'timeRangePicker2',\r\n\t\t\tlabel: '可面试时间',\r\n\t\t\trules: [\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请选择时间'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tkey: 11,\r\n\t\t\tspan: 24,\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'inputNumber',\r\n\t\t\tname: 'inputNumber',\r\n\t\t\tlabel: '数字',\r\n\t\t\trules: [],\r\n\t\t\tkey: 12,\r\n\t\t\tspan: 24,\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'switch',\r\n\t\t\tname: 'switch',\r\n\t\t\tvaluePropName: 'checked',\r\n\t\t\tlabel: '是否',\r\n\t\t\trules: [],\r\n\t\t\tkey: 13,\r\n\t\t\tspan: 24,\r\n\t\t\tlayout: {\r\n\t\t\t\tlabelCol: { span: 6 },\r\n\t\t\t\twrapperCol: { span: 18 }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'upload',\r\n\t\t\tkey: 14,\r\n\t\t\tlabel: 'upload',\r\n\t\t\tname: 'file',\r\n\t\t\tcomConfig: {\r\n\t\t\t\tname: 'file',\r\n\t\t\t\taction: `${baseURL}/file`,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: '{token:00}'\r\n\t\t\t\t},\r\n\t\t\t\tonChange: (info) => {\r\n\t\t\t\t\tconst { status } = info.file;\r\n\r\n\t\t\t\t\tif (status !== 'uploading') {\r\n\t\t\t\t\t\t// console.log(info.file, info.fileList);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (status === 'done') {\r\n\t\t\t\t\t\tmessage.success(`${info.file.name} file uploaded successfully.`);\r\n\t\t\t\t\t} else if (status === 'error') {\r\n\t\t\t\t\t\tmessage.error(`${info.file.name} file upload failed.`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tspan: 24,\r\n\t\t\tlayout: { labelCol: { span: 6 }, wrapperCol: { span: 18 } }\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'button',\r\n\t\t\tname: 'button',\r\n\t\t\tkey: 15,\r\n\t\t\tspan: 24,\r\n\t\t\tcomConfig: {\r\n\t\t\t\toption: [\r\n\t\t\t\t\t{ type: 'submit', name: '搜索', btnType: 'primary' },\r\n\t\t\t\t\t{ type: 'onReset', name: '重置' }\r\n\t\t\t\t],\r\n\t\t\t\tonClick: onSubmit,\r\n\t\t\t\tstyle: { float: 'right' }\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\treturn { formList };\r\n};\r\n"],"names":["formList","useFormList","selectOnChange","value","onSubmit","type","_Form$useForm","Form","useForm","form","_slicedToArray","_jsx","children","Icard","Iform","_ref","name","label","rules","key","span","layout","labelCol","wrapperCol","comConfig","option","onChange","fieldNames","icon","title","checkbox","required","message","valuePropName","action","concat","baseURL","headers","Authorization","info","status","file","success","error","btnType","onClick","style","float"],"sourceRoot":""}