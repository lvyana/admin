{"version":3,"file":"static/js/useInsertionEffect.1ed1ed6285b320701141.js","mappings":"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","sources":["antdComponents/iCollapse/index.tsx","antdComponents/iCollapse/useStyleHooks.tsx","views/react/hooks/useInsertionEffect/index.tsx","../node_modules/rc-collapse/es/PanelContent.js","../node_modules/rc-collapse/es/Panel.js","../node_modules/rc-collapse/es/hooks/useItems.js","../node_modules/rc-collapse/es/Collapse.js","../node_modules/rc-collapse/es/index.js"],"sourcesContent":["/**\r\n * @file 折叠面板\r\n * @author ly\r\n * @createDate 2023年4月5日\r\n */\r\nimport React, { FC, ReactNode } from 'react';\r\nimport { Collapse, CollapseProps } from 'antd';\r\nimport useStyleHooks from './useStyleHooks';\r\n\r\n/**\r\n * @param list 渲染数据\r\n * @param defaultActiveKey 初始化选中面板的 key\r\n * @param styleConfig 配置面板颜色主题类型\r\n * @param bordered 带边框风格的折叠面板\r\n * @param onChange 切换面板的回调\r\n * @param style 面板css样式\r\n * @param expandIcon 自定义切换图标\r\n */\r\nexport type IcollapseProps<T> = {\r\n\tlist: CollapseProps['items'];\r\n\tdefaultActiveKey?: T[];\r\n\tstyleConfig?: '1';\r\n\tbordered?: boolean;\r\n\tonChange?: (key: string | string[]) => void;\r\n\tstyle?: React.CSSProperties;\r\n\texpandIcon?: (value: { isActive?: boolean }) => ReactNode;\r\n};\r\n\r\n// #----------- 上: ts类型定义 ----------- 分割线 ----------- 下: JS代码 -----------\r\n\r\nconst Icollapse = <T extends string | number>({\r\n\tlist,\r\n\tdefaultActiveKey,\r\n\tstyleConfig,\r\n\tbordered = true,\r\n\tonChange,\r\n\texpandIcon,\r\n\tstyle\r\n}: IcollapseProps<T>) => {\r\n\t// 折叠面板样式配置\r\n\tconst styleConfigParams = useStyleHooks({ list, styleConfig, style, bordered });\r\n\r\n\treturn (\r\n\t\t<Collapse\r\n\t\t\tbordered={styleConfigParams.bordered}\r\n\t\t\tdefaultActiveKey={defaultActiveKey}\r\n\t\t\tonChange={onChange}\r\n\t\t\texpandIcon={expandIcon}\r\n\t\t\tstyle={styleConfigParams.style}\r\n\t\t\titems={styleConfigParams.list}></Collapse>\r\n\t);\r\n};\r\n\r\nexport default Icollapse;\r\n","/**\r\n * @file 折叠面板主题样式配置\r\n * @author ly\r\n * @createDate 2023年5月12日\r\n */\r\nimport React from 'react';\r\nimport type { IcollapseProps } from './index';\r\nimport useThemeHooks from '@/config/antd/theme/useThemeHooks';\r\n\r\ntype UseStyleHooksProps<T> = Pick<IcollapseProps<T>, 'list' | 'styleConfig' | 'style' | 'bordered'>;\r\n\r\n// #----------- 上: ts类型定义 ----------- 分割线 ----------- 下: JS代码 -----------\r\n\r\nconst useStyleHooks = <T,>({ list, styleConfig, style, bordered }: UseStyleHooksProps<T>) => {\r\n\tconst { token } = useThemeHooks();\r\n\r\n\tconst ListStyle = {\r\n\t\tmarginBottom: 24,\r\n\t\tbackground: token.colorFillAlter,\r\n\t\tborderRadius: token.borderRadiusLG,\r\n\t\tborder: 'none'\r\n\t};\r\n\r\n\tif (styleConfig === '1') {\r\n\t\tconst listOne = list?.map((item) => {\r\n\t\t\treturn {\r\n\t\t\t\t...item,\r\n\t\t\t\tstyle: ListStyle\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn { list: listOne, style: { background: token.colorBgContainer }, bordered: false };\r\n\t}\r\n\r\n\t// 默认配置\r\n\treturn { list, styleConfig, style, bordered };\r\n};\r\n\r\nexport default useStyleHooks;\r\n","/**\r\n * @file useImperativeHandle\r\n * @author ly\r\n * @createDate\r\n */\r\nimport React, { useEffect, useInsertionEffect, useLayoutEffect } from 'react';\r\nimport { Button } from 'antd';\r\nimport { useNavigate } from 'react-router';\r\nimport Icard from '@/antdComponents/iCard';\r\nimport Icollapse from '@/antdComponents/iCollapse';\r\n\r\n// #----------- 上: ts类型定义 ----------- 分割线 ----------- 下: JS代码 -----------\r\n\r\nconst IuseInsertionEffect = () => {\r\n\tconst navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\t// console.log('useEffect 执行');\r\n\t}, []);\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\t// console.log('useLayoutEffect 执行');\r\n\t}, []);\r\n\r\n\tuseInsertionEffect(() => {\r\n\t\t/* 动态创建 style 标签插入到 head 中 */\r\n\t\tconst style = document.createElement('style');\r\n\t\tstyle.innerHTML = `\r\n\t\t\t .css-in-js{\r\n\t\t\t   color: pink;\r\n\t\t\t   font-size: 12px;\r\n\t\t\t }\r\n\t\t   `;\r\n\t\t// console.log('style: ', style);\r\n\t\tdocument.head.appendChild(style);\r\n\t}, []);\r\n\r\n\tconst onToUseEffect = () => {\r\n\t\tnavigate('/react/hooks/useEffect');\r\n\t};\r\n\r\n\tconst list = [\r\n\t\t{\r\n\t\t\tlabel: '执行机制',\r\n\t\t\tchildren: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t1、可以看到 useInsertionEffect 的执行时机要比 useLayoutEffect 提前,useLayoutEffect 执行的时候 DOM 已经更新了，但是在\r\n\t\t\t\t\t\tuseInsertionEffect 的执行的时候,DOM 还没有更新\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t2、本质上 useInsertionEffect 主要是解决 CSS-in-JS 在渲染中注入样式的性能问题。这个 hooks 主要是应用于这个场景，在其他场景下\r\n\t\t\t\t\t\tReact 不期望用这个hooks\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tkey: '0'\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: '参数执行机制',\r\n\t\t\tchildren: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t参照 useEffect\r\n\t\t\t\t\t<Button type=\"link\" onClick={onToUseEffect}>\r\n\t\t\t\t\t\t跳转\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tkey: '2'\r\n\t\t}\r\n\t];\r\n\treturn (\r\n\t\t<Icard>\r\n\t\t\t<div className=\"css-in-js\"> useInsertionEffect使用场景 </div>\r\n\t\t\t<Icollapse styleConfig=\"1\" defaultActiveKey={['0']} list={list}></Icollapse>\r\n\t\t</Icard>\r\n\t);\r\n};\r\n\r\nexport default IuseInsertionEffect;\r\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport classnames from 'classnames';\nimport React from 'react';\nvar PanelContent = /*#__PURE__*/ React.forwardRef(function (props, ref) {\n  var _classnames;\n  var prefixCls = props.prefixCls,\n    forceRender = props.forceRender,\n    className = props.className,\n    style = props.style,\n    children = props.children,\n    isActive = props.isActive,\n    role = props.role;\n  var _React$useState = React.useState(isActive || forceRender),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    rendered = _React$useState2[0],\n    setRendered = _React$useState2[1];\n  React.useEffect(\n    function () {\n      if (forceRender || isActive) {\n        setRendered(true);\n      }\n    },\n    [forceRender, isActive],\n  );\n  if (!rendered) {\n    return null;\n  }\n  return /*#__PURE__*/ React.createElement(\n    'div',\n    {\n      ref: ref,\n      className: classnames(\n        ''.concat(prefixCls, '-content'),\n        ((_classnames = {}),\n        _defineProperty(_classnames, ''.concat(prefixCls, '-content-active'), isActive),\n        _defineProperty(_classnames, ''.concat(prefixCls, '-content-inactive'), !isActive),\n        _classnames),\n        className,\n      ),\n      style: style,\n      role: role,\n    },\n    /*#__PURE__*/ React.createElement(\n      'div',\n      {\n        className: ''.concat(prefixCls, '-content-box'),\n      },\n      children,\n    ),\n  );\n});\nPanelContent.displayName = 'PanelContent';\nexport default PanelContent;\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport React from 'react';\nimport PanelContent from './PanelContent';\nvar _excluded = [\n  'showArrow',\n  'headerClass',\n  'isActive',\n  'onItemClick',\n  'forceRender',\n  'className',\n  'prefixCls',\n  'collapsible',\n  'accordion',\n  'panelKey',\n  'extra',\n  'header',\n  'expandIcon',\n  'openMotion',\n  'destroyInactivePanel',\n  'children',\n];\nvar CollapsePanel = /*#__PURE__*/ React.forwardRef(function (props, ref) {\n  var _classNames, _classNames2;\n  var _props$showArrow = props.showArrow,\n    showArrow = _props$showArrow === void 0 ? true : _props$showArrow,\n    headerClass = props.headerClass,\n    isActive = props.isActive,\n    onItemClick = props.onItemClick,\n    forceRender = props.forceRender,\n    className = props.className,\n    prefixCls = props.prefixCls,\n    collapsible = props.collapsible,\n    accordion = props.accordion,\n    panelKey = props.panelKey,\n    extra = props.extra,\n    header = props.header,\n    expandIcon = props.expandIcon,\n    openMotion = props.openMotion,\n    destroyInactivePanel = props.destroyInactivePanel,\n    children = props.children,\n    resetProps = _objectWithoutProperties(props, _excluded);\n  var disabled = collapsible === 'disabled';\n  var collapsibleHeader = collapsible === 'header';\n  var collapsibleIcon = collapsible === 'icon';\n  var ifExtraExist = extra !== null && extra !== undefined && typeof extra !== 'boolean';\n  var handleItemClick = function handleItemClick() {\n    onItemClick === null || onItemClick === void 0 ? void 0 : onItemClick(panelKey);\n  };\n  var handleKeyDown = function handleKeyDown(e) {\n    if (e.key === 'Enter' || e.keyCode === KeyCode.ENTER || e.which === KeyCode.ENTER) {\n      handleItemClick();\n    }\n  };\n\n  // ======================== Icon ========================\n  var iconNode =\n    typeof expandIcon === 'function'\n      ? expandIcon(props)\n      : /*#__PURE__*/ React.createElement('i', {\n          className: 'arrow',\n        });\n  if (iconNode) {\n    iconNode = /*#__PURE__*/ React.createElement(\n      'div',\n      {\n        className: ''.concat(prefixCls, '-expand-icon'),\n        onClick: ['header', 'icon'].includes(collapsible) ? handleItemClick : undefined,\n      },\n      iconNode,\n    );\n  }\n  var collapsePanelClassNames = classNames(\n    ((_classNames = {}),\n    _defineProperty(_classNames, ''.concat(prefixCls, '-item'), true),\n    _defineProperty(_classNames, ''.concat(prefixCls, '-item-active'), isActive),\n    _defineProperty(_classNames, ''.concat(prefixCls, '-item-disabled'), disabled),\n    _classNames),\n    className,\n  );\n  var headerClassName = classNames(\n    ((_classNames2 = {}),\n    _defineProperty(_classNames2, ''.concat(prefixCls, '-header'), true),\n    _defineProperty(_classNames2, 'headerClass', headerClass),\n    _defineProperty(\n      _classNames2,\n      ''.concat(prefixCls, '-header-collapsible-only'),\n      collapsibleHeader,\n    ),\n    _defineProperty(_classNames2, ''.concat(prefixCls, '-icon-collapsible-only'), collapsibleIcon),\n    _classNames2),\n  );\n\n  // ======================== HeaderProps ========================\n  var headerProps = {\n    className: headerClassName,\n    'aria-expanded': isActive,\n    'aria-disabled': disabled,\n    onKeyDown: handleKeyDown,\n  };\n  if (!collapsibleHeader && !collapsibleIcon) {\n    headerProps.onClick = handleItemClick;\n    headerProps.role = accordion ? 'tab' : 'button';\n    headerProps.tabIndex = disabled ? -1 : 0;\n  }\n\n  // ======================== Render ========================\n  return /*#__PURE__*/ React.createElement(\n    'div',\n    _extends({}, resetProps, {\n      ref: ref,\n      className: collapsePanelClassNames,\n    }),\n    /*#__PURE__*/ React.createElement(\n      'div',\n      headerProps,\n      showArrow && iconNode,\n      /*#__PURE__*/ React.createElement(\n        'span',\n        {\n          className: ''.concat(prefixCls, '-header-text'),\n          onClick: collapsible === 'header' ? handleItemClick : undefined,\n        },\n        header,\n      ),\n      ifExtraExist &&\n        /*#__PURE__*/ React.createElement(\n          'div',\n          {\n            className: ''.concat(prefixCls, '-extra'),\n          },\n          extra,\n        ),\n    ),\n    /*#__PURE__*/ React.createElement(\n      CSSMotion,\n      _extends(\n        {\n          visible: isActive,\n          leavedClassName: ''.concat(prefixCls, '-content-hidden'),\n        },\n        openMotion,\n        {\n          forceRender: forceRender,\n          removeOnLeave: destroyInactivePanel,\n        },\n      ),\n      function (_ref, motionRef) {\n        var motionClassName = _ref.className,\n          motionStyle = _ref.style;\n        return /*#__PURE__*/ React.createElement(\n          PanelContent,\n          {\n            ref: motionRef,\n            prefixCls: prefixCls,\n            className: motionClassName,\n            style: motionStyle,\n            isActive: isActive,\n            forceRender: forceRender,\n            role: accordion ? 'tabpanel' : void 0,\n          },\n          children,\n        );\n      },\n    ),\n  );\n});\nexport default CollapsePanel;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport toArray from 'rc-util/es/Children/toArray';\nimport React from 'react';\nimport CollapsePanel from '../Panel';\nvar _excluded = ['children', 'label', 'key', 'collapsible', 'onItemClick', 'destroyInactivePanel'];\nvar convertItemsToNodes = function convertItemsToNodes(items, props) {\n  var prefixCls = props.prefixCls,\n    accordion = props.accordion,\n    collapsible = props.collapsible,\n    destroyInactivePanel = props.destroyInactivePanel,\n    onItemClick = props.onItemClick,\n    activeKey = props.activeKey,\n    openMotion = props.openMotion,\n    expandIcon = props.expandIcon;\n  return items.map(function (item, index) {\n    var children = item.children,\n      label = item.label,\n      rawKey = item.key,\n      rawCollapsible = item.collapsible,\n      rawOnItemClick = item.onItemClick,\n      rawDestroyInactivePanel = item.destroyInactivePanel,\n      restProps = _objectWithoutProperties(item, _excluded);\n\n    // You may be puzzled why you want to convert them all into strings, me too.\n    // Maybe: https://github.com/react-component/collapse/blob/aac303a8b6ff30e35060b4f8fecde6f4556fcbe2/src/Collapse.tsx#L15\n    var key = String(rawKey !== null && rawKey !== void 0 ? rawKey : index);\n    var mergeCollapsible =\n      rawCollapsible !== null && rawCollapsible !== void 0 ? rawCollapsible : collapsible;\n    var mergeDestroyInactivePanel =\n      rawDestroyInactivePanel !== null && rawDestroyInactivePanel !== void 0\n        ? rawDestroyInactivePanel\n        : destroyInactivePanel;\n    var handleItemClick = function handleItemClick(value) {\n      if (mergeCollapsible === 'disabled') return;\n      onItemClick(value);\n      rawOnItemClick === null || rawOnItemClick === void 0 ? void 0 : rawOnItemClick(value);\n    };\n    var isActive = false;\n    if (accordion) {\n      isActive = activeKey[0] === key;\n    } else {\n      isActive = activeKey.indexOf(key) > -1;\n    }\n    return /*#__PURE__*/ React.createElement(\n      CollapsePanel,\n      _extends({}, restProps, {\n        prefixCls: prefixCls,\n        key: key,\n        panelKey: key,\n        isActive: isActive,\n        accordion: accordion,\n        openMotion: openMotion,\n        expandIcon: expandIcon,\n        header: label,\n        collapsible: mergeCollapsible,\n        onItemClick: handleItemClick,\n        destroyInactivePanel: mergeDestroyInactivePanel,\n      }),\n      children,\n    );\n  });\n};\n\n/**\n * @deprecated The next major version will be removed\n */\nvar getNewChild = function getNewChild(child, index, props) {\n  if (!child) return null;\n  var prefixCls = props.prefixCls,\n    accordion = props.accordion,\n    collapsible = props.collapsible,\n    destroyInactivePanel = props.destroyInactivePanel,\n    onItemClick = props.onItemClick,\n    activeKey = props.activeKey,\n    openMotion = props.openMotion,\n    expandIcon = props.expandIcon;\n  var key = child.key || String(index);\n  var _child$props = child.props,\n    header = _child$props.header,\n    headerClass = _child$props.headerClass,\n    childDestroyInactivePanel = _child$props.destroyInactivePanel,\n    childCollapsible = _child$props.collapsible,\n    childOnItemClick = _child$props.onItemClick;\n  var isActive = false;\n  if (accordion) {\n    isActive = activeKey[0] === key;\n  } else {\n    isActive = activeKey.indexOf(key) > -1;\n  }\n  var mergeCollapsible =\n    childCollapsible !== null && childCollapsible !== void 0 ? childCollapsible : collapsible;\n  var handleItemClick = function handleItemClick(value) {\n    if (mergeCollapsible === 'disabled') return;\n    onItemClick(value);\n    childOnItemClick === null || childOnItemClick === void 0 ? void 0 : childOnItemClick(value);\n  };\n  var childProps = {\n    key: key,\n    panelKey: key,\n    header: header,\n    headerClass: headerClass,\n    isActive: isActive,\n    prefixCls: prefixCls,\n    destroyInactivePanel:\n      childDestroyInactivePanel !== null && childDestroyInactivePanel !== void 0\n        ? childDestroyInactivePanel\n        : destroyInactivePanel,\n    openMotion: openMotion,\n    accordion: accordion,\n    children: child.props.children,\n    onItemClick: handleItemClick,\n    expandIcon: expandIcon,\n    collapsible: mergeCollapsible,\n  };\n\n  // https://github.com/ant-design/ant-design/issues/20479\n  if (typeof child.type === 'string') {\n    return child;\n  }\n  Object.keys(childProps).forEach(function (propName) {\n    if (typeof childProps[propName] === 'undefined') {\n      delete childProps[propName];\n    }\n  });\n  return /*#__PURE__*/ React.cloneElement(child, childProps);\n};\nfunction useItems(items, rawChildren, props) {\n  if (Array.isArray(items)) {\n    return convertItemsToNodes(items, props);\n  }\n  return toArray(rawChildren).map(function (child, index) {\n    return getNewChild(child, index, props);\n  });\n}\nexport default useItems;\n","import _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _typeof from '@babel/runtime/helpers/esm/typeof';\nimport classNames from 'classnames';\nimport useMergedState from 'rc-util/es/hooks/useMergedState';\nimport warning from 'rc-util/es/warning';\nimport React from 'react';\nimport useItems from './hooks/useItems';\nimport CollapsePanel from './Panel';\nfunction getActiveKeysArray(activeKey) {\n  var currentActiveKey = activeKey;\n  if (!Array.isArray(currentActiveKey)) {\n    var activeKeyType = _typeof(currentActiveKey);\n    currentActiveKey =\n      activeKeyType === 'number' || activeKeyType === 'string' ? [currentActiveKey] : [];\n  }\n  return currentActiveKey.map(function (key) {\n    return String(key);\n  });\n}\nvar Collapse = /*#__PURE__*/ React.forwardRef(function (props, ref) {\n  var _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-collapse' : _props$prefixCls,\n    _props$destroyInactiv = props.destroyInactivePanel,\n    destroyInactivePanel = _props$destroyInactiv === void 0 ? false : _props$destroyInactiv,\n    style = props.style,\n    accordion = props.accordion,\n    className = props.className,\n    children = props.children,\n    collapsible = props.collapsible,\n    openMotion = props.openMotion,\n    expandIcon = props.expandIcon,\n    rawActiveKey = props.activeKey,\n    defaultActiveKey = props.defaultActiveKey,\n    _onChange = props.onChange,\n    items = props.items;\n  var collapseClassName = classNames(prefixCls, className);\n  var _useMergedState = useMergedState([], {\n      value: rawActiveKey,\n      onChange: function onChange(v) {\n        return _onChange === null || _onChange === void 0 ? void 0 : _onChange(v);\n      },\n      defaultValue: defaultActiveKey,\n      postState: getActiveKeysArray,\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    activeKey = _useMergedState2[0],\n    setActiveKey = _useMergedState2[1];\n  var onItemClick = function onItemClick(key) {\n    return setActiveKey(function () {\n      if (accordion) {\n        return activeKey[0] === key ? [] : [key];\n      }\n      var index = activeKey.indexOf(key);\n      var isActive = index > -1;\n      if (isActive) {\n        return activeKey.filter(function (item) {\n          return item !== key;\n        });\n      }\n      return [].concat(_toConsumableArray(activeKey), [key]);\n    });\n  };\n\n  // ======================== Children ========================\n  warning(\n    !children,\n    '`children` will be removed in next major version. Please use `items` instead.',\n  );\n  var mergedChildren = useItems(items, children, {\n    prefixCls: prefixCls,\n    accordion: accordion,\n    openMotion: openMotion,\n    expandIcon: expandIcon,\n    collapsible: collapsible,\n    destroyInactivePanel: destroyInactivePanel,\n    onItemClick: onItemClick,\n    activeKey: activeKey,\n  });\n\n  // ======================== Render ========================\n  return /*#__PURE__*/ React.createElement(\n    'div',\n    {\n      ref: ref,\n      className: collapseClassName,\n      style: style,\n      role: accordion ? 'tablist' : undefined,\n    },\n    mergedChildren,\n  );\n});\nexport default Object.assign(Collapse, {\n  /**\n   * @deprecated use `items` instead, will be removed in `v4.0.0`\n   */\n  Panel: CollapsePanel,\n});\n","import Collapse from './Collapse';\nexport default Collapse;\n\n/**\n * @deprecated use `items` instead, will be removed in `v4.0.0`\n */\nvar Panel = Collapse.Panel;\nexport { Panel };\n"],"names":["_ref","list","defaultActiveKey","styleConfig","_ref$bordered","bordered","onChange","expandIcon","styleConfigParams","style","token","useThemeHooks","ListStyle","marginBottom","background","colorFillAlter","borderRadius","borderRadiusLG","border","map","item","_objectSpread","colorBgContainer","useStyleHooks","_jsx","Collapse","items","navigate","useNavigate","useEffect","useLayoutEffect","useInsertionEffect","document","createElement","innerHTML","head","appendChild","label","children","_jsxs","key","Button","type","onClick","Icard","className","Icollapse","PanelContent","React","props","ref","_classnames","prefixCls","forceRender","isActive","role","_React$useState","_React$useState2","_slicedToArray","rendered","setRendered","classnames","concat","_defineProperty","displayName","_excluded","_classNames","_classNames2","_props$showArrow","showArrow","headerClass","onItemClick","collapsible","accordion","panelKey","extra","header","openMotion","destroyInactivePanel","resetProps","_objectWithoutProperties","disabled","collapsibleHeader","collapsibleIcon","ifExtraExist","handleItemClick","iconNode","includes","undefined","collapsePanelClassNames","classNames","headerProps","onKeyDown","e","keyCode","KeyCode","ENTER","which","tabIndex","_extends","CSSMotion","visible","leavedClassName","removeOnLeave","motionRef","motionClassName","motionStyle","getActiveKeysArray","activeKey","currentActiveKey","Array","isArray","activeKeyType","_typeof","String","_props$prefixCls","_props$destroyInactiv","rawActiveKey","_onChange","collapseClassName","_useMergedState","useMergedState","value","v","defaultValue","postState","_useMergedState2","setActiveKey","warning","mergedChildren","rawChildren","index","rawKey","rawCollapsible","rawOnItemClick","rawDestroyInactivePanel","restProps","mergeCollapsible","mergeDestroyInactivePanel","indexOf","CollapsePanel","convertItemsToNodes","toArray","child","_child$props","childDestroyInactivePanel","childCollapsible","childOnItemClick","childProps","Object","keys","forEach","propName","getNewChild","useItems","filter","_toConsumableArray","assign","Panel"],"sourceRoot":""}