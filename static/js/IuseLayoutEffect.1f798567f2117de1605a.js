"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[4190],{68792:function(e,n,t){t.d(n,{Z:function(){return s}});t(72791);var a=t(16421),r=t(1413),c=t(83298),o=function(e){var n=e.list,t=e.styleConfig,a=e.style,o=e.bordered,l=(0,c.Z)().token,i={marginBottom:24,background:l.colorFillAlter,borderRadius:l.borderRadiusLG,border:"none"};return"1"===t?{list:n.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{style:i})})),style:{background:l.colorBgContainer},bordered:!1}:{list:n,styleConfig:t,style:a,bordered:o}},l=t(80184),i=a.Z.Panel,s=function(e){var n=e.list,t=e.defaultActiveKey,r=e.styleConfig,c=e.bordered,s=void 0===c||c,d=e.onChange,f=e.expandIcon,u=e.style,v=o({list:n,styleConfig:r,style:u,bordered:s});return(0,l.jsx)(a.Z,{bordered:v.bordered,defaultActiveKey:t,onChange:d,expandIcon:f,style:v.style,children:v.list.map((function(e){return(0,l.jsx)(i,{header:e.header,style:e.style,className:e.className,children:e.content},e.key)}))})}},24861:function(e,n,t){t.r(n);var a=t(29439),r=t(72791),c=t(94805),o=t(68792),l=t(87309),i=t(57689),s=t(80184);n.default=function(){var e=(0,i.s0)(),n=(0,r.useState)(0),t=(0,a.Z)(n,2),d=t[0],f=t[1],u=(0,r.useState)(0),v=(0,a.Z)(u,2),y=v[0],h=v[1];(0,r.useEffect)((function(){h(11)}),[]),(0,r.useLayoutEffect)((function(){f(1),f(2),h(10)}),[]);var p=[{header:"执行机制",content:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:"1、浏览器渲染页面之前 DOM 更新之后同步执行,会阻塞渲染"}),(0,s.jsx)("div",{children:"2、建议修改 DOM 在useLayoutEffect执行"})]}),key:"0"},{header:"reader机制",content:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:"1、useLayoutEffect 内更新数据,会进行合并处理,只会 reader 一次"}),(0,s.jsx)("div",{children:"2、useLayoutEffect 内更新数据,会 reader 一次,不会和 useEffect 合并处理"}),(0,s.jsx)("div",{children:"3、useEffect 执行在渲染之后,更新数据会导致页面看到 0 -> 1,而 useLayoutEffect 在渲染之前更新,页面只会看到更新后的数据"})]}),key:"1"},{header:"参数执行机制",content:(0,s.jsxs)("div",{children:["参照 useEffect",(0,s.jsx)(l.ZP,{type:"link",onClick:function(){e("/react/hooks/useEffect")},children:"跳转"})]}),key:"2"},{header:"测试是否阻塞",content:(0,s.jsx)("div",{children:"useEffect 内执行1000000000循环,我认为 useEffect 也阻塞了渲染"}),key:"3"}];return(0,s.jsxs)(c.Z,{children:[(0,s.jsxs)("div",{children:["useLayoutEffect不会闪烁:",d]}),(0,s.jsxs)("div",{children:["useEffect会闪烁:",y]}),(0,s.jsx)(o.Z,{styleConfig:"1",defaultActiveKey:["0"],list:p})]})}},23968:function(e,n,t){t.d(n,{Z:function(){return k}});var a=t(29439),r=t(93433),c=t(71002),o=t(81694),l=t.n(o),i=t(85501),s=t(75179),d=t(72791),f=t(4942),u=t(87462),v=t(44925),y=t(98568),h=t(11354),p=d.forwardRef((function(e,n){var t,r=e.prefixCls,c=e.forceRender,o=e.className,i=e.style,s=e.children,u=e.isActive,v=e.role,y=d.useState(u||c),h=(0,a.Z)(y,2),p=h[0],m=h[1];return d.useEffect((function(){(c||u)&&m(!0)}),[c,u]),p?d.createElement("div",{ref:n,className:l()("".concat(r,"-content"),(t={},(0,f.Z)(t,"".concat(r,"-content-active"),u),(0,f.Z)(t,"".concat(r,"-content-inactive"),!u),t),o),style:i,role:v},d.createElement("div",{className:"".concat(r,"-content-box")},s)):null}));p.displayName="PanelContent";var m=p,x=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],b=d.forwardRef((function(e,n){var t,a,r=e.showArrow,c=void 0===r||r,o=e.headerClass,i=e.isActive,s=e.onItemClick,p=e.forceRender,b=e.className,C=e.prefixCls,E=e.collapsible,Z=e.accordion,k=e.panelKey,N=e.extra,g=e.header,j=e.expandIcon,I=e.openMotion,A=e.destroyInactivePanel,P=e.children,R=(0,v.Z)(e,x),w="disabled"===E,K="header"===E,L="icon"===E,O=null!=N&&"boolean"!=typeof N,M=function(){null==s||s(k)},S="function"==typeof j?j(e):d.createElement("i",{className:"arrow"});S&&(S=d.createElement("div",{className:"".concat(C,"-expand-icon"),onClick:["header","icon"].includes(E)?M:void 0},S));var B=l()((t={},(0,f.Z)(t,"".concat(C,"-item"),!0),(0,f.Z)(t,"".concat(C,"-item-active"),i),(0,f.Z)(t,"".concat(C,"-item-disabled"),w),t),b),D={className:l()((a={},(0,f.Z)(a,"".concat(C,"-header"),!0),(0,f.Z)(a,"headerClass",o),(0,f.Z)(a,"".concat(C,"-header-collapsible-only"),K),(0,f.Z)(a,"".concat(C,"-icon-collapsible-only"),L),a)),"aria-expanded":i,"aria-disabled":w,onKeyPress:function(e){"Enter"!==e.key&&e.keyCode!==h.Z.ENTER&&e.which!==h.Z.ENTER||M()}};return K||L||(D.onClick=M,D.role=Z?"tab":"button",D.tabIndex=w?-1:0),d.createElement("div",(0,u.Z)({},R,{ref:n,className:B}),d.createElement("div",D,c&&S,d.createElement("span",{className:"".concat(C,"-header-text"),onClick:"header"===E?M:void 0},g),O&&d.createElement("div",{className:"".concat(C,"-extra")},N)),d.createElement(y.ZP,(0,u.Z)({visible:i,leavedClassName:"".concat(C,"-content-hidden")},I,{forceRender:p,removeOnLeave:A}),(function(e,n){var t=e.className,a=e.style;return d.createElement(m,{ref:n,prefixCls:C,className:t,style:a,isActive:i,forceRender:p,role:Z?"tabpanel":void 0},P)})))}));function C(e){var n=e;if(!Array.isArray(n)){var t=(0,c.Z)(n);n="number"===t||"string"===t?[n]:[]}return n.map((function(e){return String(e)}))}var E=d.forwardRef((function(e,n){var t=e.prefixCls,c=void 0===t?"rc-collapse":t,o=e.destroyInactivePanel,f=void 0!==o&&o,u=e.style,v=e.accordion,y=e.className,h=e.children,p=e.collapsible,m=e.openMotion,x=e.expandIcon,b=e.activeKey,E=e.defaultActiveKey,Z=e.onChange,k=l()(c,y),N=(0,s.Z)([],{value:b,onChange:function(e){return null==Z?void 0:Z(e)},defaultValue:E,postState:C}),g=(0,a.Z)(N,2),j=g[0],I=g[1],A=(0,i.Z)(h).map((function(e,n){if(!e)return null;var t=e.key||String(n),a=e.props,o=a.header,l=a.headerClass,i=a.destroyInactivePanel,s=a.collapsible,u=a.onItemClick,y=!1;y=v?j[0]===t:j.indexOf(t)>-1;var h=null!=s?s:p,b={key:t,panelKey:t,header:o,headerClass:l,isActive:y,prefixCls:c,destroyInactivePanel:null!=i?i:f,openMotion:m,accordion:v,children:e.props.children,onItemClick:function(e){"disabled"!==h&&(!function(e){I((function(){return v?j[0]===e?[]:[e]:j.indexOf(e)>-1?j.filter((function(n){return n!==e})):[].concat((0,r.Z)(j),[e])}))}(e),null==u||u(e))},expandIcon:x,collapsible:h};return"string"==typeof e.type?e:(Object.keys(b).forEach((function(e){void 0===b[e]&&delete b[e]})),d.cloneElement(e,b))}));return d.createElement("div",{ref:n,className:k,style:u,role:v?"tablist":void 0},A)})),Z=Object.assign(E,{Panel:b}),k=Z;Z.Panel}}]);