"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[439],{19689:function(e,n,i){i.d(n,{G:function(){return a},Z:function(){return l}});i(72791);var s=i(20043),t=i(77106),r="iLoading_loading-example__xQgLk",o=i(80184),a=(0,o.jsx)(t.Z,{style:{fontSize:24},spin:!0}),l=function(e){var n=e.children,i=e.loading;return"boolean"==typeof i?(0,o.jsx)(s.Z,{indicator:a,spinning:i,delay:200,children:n}):(0,o.jsx)("div",{className:r,children:(0,o.jsx)(s.Z,{indicator:a,delay:200,style:{}})})}},51283:function(e,n,i){i(72791);var s=i(49428),t=i(80184);n.Z=function(e){var n=e.children,i=e.title,r=e.open,o=e.confirmLoading,a=e.onOkOrCancel,l=e.width,c=void 0===l?"500px":l,d=e.maskClosable,u=void 0!==d&&d,h=e.destroyOnClose,p=void 0===h||h;return(0,t.jsx)("div",{children:(0,t.jsx)(s.Z,{title:i,open:r,confirmLoading:o,onOk:function(){a("ok")},onCancel:function(){a("cancel")},width:c,maskClosable:u,destroyOnClose:p,children:n})})}},34095:function(e,n,i){i.r(n),i.d(n,{default:function(){return F}});var s=i(29439),t=i(72791),r=i(49655),o=i(21940),a=i(22266),l=i(11142),c=i(64957),d=(i(15580),i(19689)),u=i(80184),h=function(e){var n=e.updatepPhoto,i=e.setPhotoFinish,r=(0,t.useRef)(null),o=(0,t.useState)(!0),a=(0,s.Z)(o,2),l=a[0],h=a[1];return(0,u.jsx)(d.Z,{loading:l,children:(0,u.jsx)(c.Z,{src:n,style:{height:400,width:"100%"},initialAspectRatio:16/9,guides:!1,crop:function(){var e=null==r?void 0:r.current,n=null==e?void 0:e.cropper;i(n.getCroppedCanvas().toDataURL()),h(!1)},ref:r})})},p=i(66106),f=i(30914),m=i(29736),x=i(87309),j=i(72351),Z=function(e){var n=e.photoFinish,i=e.setPhotoFinish,r=(0,t.useState)(n),o=(0,s.Z)(r,2),c=o[0],d=o[1];return(0,u.jsxs)("div",{children:[(0,u.jsxs)(p.Z,{gutter:20,align:"bottom",children:[(0,u.jsx)(f.Z,{span:16,children:(0,u.jsx)(h,{updatepPhoto:c,setPhotoFinish:i})}),(0,u.jsx)(f.Z,{span:8,children:(0,u.jsx)(a.C,{src:n,size:200,icon:(0,u.jsx)(l.Z,{})})})]}),(0,u.jsx)("div",{style:{marginTop:"10px"},children:(0,u.jsx)(m.Z,{name:"file",showUploadList:!1,beforeUpload:function(e){return v(e,(function(e){d(e)})),!1},children:(0,u.jsx)(x.ZP,{icon:(0,u.jsx)(j.Z,{}),children:"上传头像"})})})]})},v=function(e,n){var i=new FileReader;i.addEventListener("load",(function(){return n(i.result)})),i.readAsDataURL(e)},g=i(57689),C=i(17615),y=i(376),P=function(){var e=(0,g.TH)(),n=C.Z.useForm(),i=(0,s.Z)(n,1)[0];(0,t.useEffect)((function(){var n;e.state?i.setFieldsValue({userName:null===(n=e.state)||void 0===n?void 0:n.name}):i.setFieldsValue({userName:void 0})}),[i,e]);return(0,u.jsxs)(C.Z,{form:i,labelCol:{span:4,offset:4},wrapperCol:{span:12},onFinish:function(e){},onFinishFailed:function(e){},children:[(0,u.jsx)(C.Z.Item,{label:"用户名",name:"userName",rules:[{required:!0,message:"Please input your username!"}],children:(0,u.jsx)(y.Z,{})}),(0,u.jsx)(C.Z.Item,{label:"密码",name:"passWord",rules:[{required:!0,message:"Please input your password!"}],children:(0,u.jsx)(y.Z.Password,{})}),(0,u.jsx)(C.Z.Item,{label:"确认密码",name:"confirmPassWord",rules:[{required:!0,message:"Please input your confirm password!"},{validator:function(e,n){return n&&n!==i.getFieldValue("passWord")?Promise.reject(new Error("密码不一致")):Promise.resolve()}}],children:(0,u.jsx)(y.Z.Password,{})}),(0,u.jsx)(C.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,u.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})},w=i(51283),F=function(){var e=(0,r.TL)(),n=(0,t.useState)(!1),i=(0,s.Z)(n,2),c=i[0],d=i[1],h=(0,t.useState)(!1),p=(0,s.Z)(h,2),f=p[0],m=p[1],x=(0,r.CG)(o.MM),j=(0,t.useState)(x),v=(0,s.Z)(j,2),g=v[0],C=v[1],y=function(){m(!0),setTimeout((function(){e((0,o._d)(g)),d(!1),m(!1)}),1e3)},F=function(){d(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"myCenter animate__animated animate__fadeIn",children:[(0,u.jsx)("div",{style:{marginBottom:"20px",textAlign:"center"},children:(0,u.jsx)("span",{onClick:function(){C(x),d(!0)},children:(0,u.jsx)(a.C,{src:x,size:200,icon:(0,u.jsx)(l.Z,{})})})}),(0,u.jsx)(P,{})]}),(0,u.jsx)(w.Z,{title:"修改头像",open:c,confirmLoading:f,onOkOrCancel:function(e){"ok"===e?y():"cancel"===e&&F()},width:800,children:(0,u.jsx)(Z,{photoFinish:g,setPhotoFinish:C})})]})}}}]);