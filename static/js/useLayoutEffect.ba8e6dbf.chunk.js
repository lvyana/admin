"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[7749],{14532:(e,n,t)=>{t.d(n,{A:()=>o});t(65043);var a=t(27371),l=t(96029);const c=e=>{let{items:n,styleConfig:t,style:a,bordered:c}=e;const{token:r}=(0,l.A)(),o={marginBottom:24,background:r.colorFillAlter,borderRadius:r.borderRadiusLG,border:"none"};if("1"===t){return{list:null==n?void 0:n.map((e=>({...e,style:o}))),style:{background:r.colorBgContainer},bordered:!1}}return{items:n,styleConfig:t,style:a,bordered:c}};var r=t(70579);const o=e=>{let{...n}=e;const{items:t,styleConfig:l,style:o,bordered:i,...s}=n,d=c({items:t,styleConfig:l,style:o,bordered:i});return(0,r.jsx)(a.A,{...s,bordered:d.bordered,style:d.style,items:d.list})}},83513:(e,n,t)=>{t.r(n),t.d(n,{default:()=>s});var a=t(65043),l=t(76566),c=t(14532),r=t(87021),o=t(73216),i=t(70579);const s=()=>{const e=(0,o.Zp)(),[n,t]=(0,a.useState)(0),[s,d]=(0,a.useState)(0);(0,a.useEffect)((()=>{d(11)}),[]),(0,a.useLayoutEffect)((()=>{t(1),t(2),d(10)}),[]);const f=[{label:"执行机制",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:"1、浏览器渲染页面之前 DOM 更新之后同步执行,会阻塞渲染"}),(0,i.jsx)("div",{children:"2、建议修改 DOM 在useLayoutEffect执行"})]}),key:"0"},{label:"reader机制",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:"1、useLayoutEffect 内更新数据,会进行合并处理,只会 reader 一次"}),(0,i.jsx)("div",{children:"2、useLayoutEffect 内更新数据,会 reader 一次,不会和 useEffect 合并处理"}),(0,i.jsx)("div",{children:"3、useEffect 执行在渲染之后,更新数据会导致页面看到 0 -> 1,而 useLayoutEffect 在渲染之前更新,页面只会看到更新后的数据"})]}),key:"1"},{label:"参数执行机制",children:(0,i.jsxs)("div",{children:["参照 useEffect",(0,i.jsx)(r.Ay,{type:"link",onClick:()=>{e("/react/hooks/useEffect")},children:"跳转"})]}),key:"2"},{label:"测试是否阻塞",children:(0,i.jsx)("div",{children:"useEffect 内执行1000000000循环,我认为 useEffect 也阻塞了渲染"}),key:"3"}];return(0,i.jsxs)(l.A,{children:[(0,i.jsxs)("div",{children:["useLayoutEffect不会闪烁:",n]}),(0,i.jsxs)("div",{children:["useEffect会闪烁:",s]}),(0,i.jsx)(c.A,{styleConfig:"1",defaultActiveKey:["0"],items:f})]})}},61444:(e,n,t)=>{t.d(n,{A:()=>g});var a=t(58168),l=t(60436),c=t(5544),r=t(82284),o=t(98139),i=t.n(o),s=t(28678),d=t(97907),f=t(65043),u=t(53986),v=t(62149),y=t(64467),p=t(50541),m=t(25001),h=f.forwardRef((function(e,n){var t=e.prefixCls,a=e.forceRender,l=e.className,r=e.style,o=e.children,s=e.isActive,d=e.role,u=f.useState(s||a),v=(0,c.A)(u,2),p=v[0],m=v[1];return f.useEffect((function(){(a||s)&&m(!0)}),[a,s]),p?f.createElement("div",{ref:n,className:i()("".concat(t,"-content"),(0,y.A)((0,y.A)({},"".concat(t,"-content-active"),s),"".concat(t,"-content-inactive"),!s),l),style:r,role:d},f.createElement("div",{className:"".concat(t,"-content-box")},o)):null}));h.displayName="PanelContent";const b=h;var A=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"];const x=f.forwardRef((function(e,n){var t=e.showArrow,l=void 0===t||t,c=e.headerClass,r=e.isActive,o=e.onItemClick,s=e.forceRender,d=e.className,v=e.prefixCls,h=e.collapsible,x=e.accordion,C=e.panelKey,k=e.extra,E=e.header,I=e.expandIcon,N=e.openMotion,j=e.destroyInactivePanel,g=e.children,P=(0,u.A)(e,A),w="disabled"===h,R="header"===h,K="icon"===h,M=null!=k&&"boolean"!=typeof k,L=function(){null==o||o(C)},O="function"==typeof I?I(e):f.createElement("i",{className:"arrow"});O&&(O=f.createElement("div",{className:"".concat(v,"-expand-icon"),onClick:["header","icon"].includes(h)?L:void 0},O));var S=i()((0,y.A)((0,y.A)((0,y.A)({},"".concat(v,"-item"),!0),"".concat(v,"-item-active"),r),"".concat(v,"-item-disabled"),w),d),D={className:i()(c,(0,y.A)((0,y.A)((0,y.A)({},"".concat(v,"-header"),!0),"".concat(v,"-header-collapsible-only"),R),"".concat(v,"-icon-collapsible-only"),K)),"aria-expanded":r,"aria-disabled":w,onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==m.A.ENTER&&e.which!==m.A.ENTER||L()}};return R||K||(D.onClick=L,D.role=x?"tab":"button",D.tabIndex=w?-1:0),f.createElement("div",(0,a.A)({},P,{ref:n,className:S}),f.createElement("div",D,l&&O,f.createElement("span",{className:"".concat(v,"-header-text"),onClick:"header"===h?L:void 0},E),M&&f.createElement("div",{className:"".concat(v,"-extra")},k)),f.createElement(p.Ay,(0,a.A)({visible:r,leavedClassName:"".concat(v,"-content-hidden")},N,{forceRender:s,removeOnLeave:j}),(function(e,n){var t=e.className,a=e.style;return f.createElement(b,{ref:n,prefixCls:v,className:t,style:a,isActive:r,forceRender:s,role:x?"tabpanel":void 0},g)})))}));var C=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];const k=function(e,n,t){return Array.isArray(e)?function(e,n){var t=n.prefixCls,l=n.accordion,c=n.collapsible,r=n.destroyInactivePanel,o=n.onItemClick,i=n.activeKey,s=n.openMotion,d=n.expandIcon;return e.map((function(e,n){var v=e.children,y=e.label,p=e.key,m=e.collapsible,h=e.onItemClick,b=e.destroyInactivePanel,A=(0,u.A)(e,C),k=String(null!=p?p:n),E=null!=m?m:c,I=null!=b?b:r,N=!1;return N=l?i[0]===k:i.indexOf(k)>-1,f.createElement(x,(0,a.A)({},A,{prefixCls:t,key:k,panelKey:k,isActive:N,accordion:l,openMotion:s,expandIcon:d,header:y,collapsible:E,onItemClick:function(e){"disabled"!==E&&(o(e),null==h||h(e))},destroyInactivePanel:I}),v)}))}(e,t):(0,v.A)(n).map((function(e,n){return function(e,n,t){if(!e)return null;var a=t.prefixCls,l=t.accordion,c=t.collapsible,r=t.destroyInactivePanel,o=t.onItemClick,i=t.activeKey,s=t.openMotion,d=t.expandIcon,u=e.key||String(n),v=e.props,y=v.header,p=v.headerClass,m=v.destroyInactivePanel,h=v.collapsible,b=v.onItemClick,A=!1;A=l?i[0]===u:i.indexOf(u)>-1;var x=null!=h?h:c,C={key:u,panelKey:u,header:y,headerClass:p,isActive:A,prefixCls:a,destroyInactivePanel:null!=m?m:r,openMotion:s,accordion:l,children:e.props.children,onItemClick:function(e){"disabled"!==x&&(o(e),null==b||b(e))},expandIcon:d,collapsible:x};return"string"==typeof e.type?e:(Object.keys(C).forEach((function(e){void 0===C[e]&&delete C[e]})),f.cloneElement(e,C))}(e,n,t)}))};var E=t(48060);function I(e){var n=e;if(!Array.isArray(n)){var t=(0,r.A)(n);n="number"===t||"string"===t?[n]:[]}return n.map((function(e){return String(e)}))}var N=f.forwardRef((function(e,n){var t=e.prefixCls,r=void 0===t?"rc-collapse":t,o=e.destroyInactivePanel,u=void 0!==o&&o,v=e.style,y=e.accordion,p=e.className,m=e.children,h=e.collapsible,b=e.openMotion,A=e.expandIcon,x=e.activeKey,C=e.defaultActiveKey,N=e.onChange,j=e.items,g=i()(r,p),P=(0,s.A)([],{value:x,onChange:function(e){return null==N?void 0:N(e)},defaultValue:C,postState:I}),w=(0,c.A)(P,2),R=w[0],K=w[1];(0,d.Ay)(!m,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var M=k(j,m,{prefixCls:r,accordion:y,openMotion:b,expandIcon:A,collapsible:h,destroyInactivePanel:u,onItemClick:function(e){return K((function(){return y?R[0]===e?[]:[e]:R.indexOf(e)>-1?R.filter((function(n){return n!==e})):[].concat((0,l.A)(R),[e])}))},activeKey:R});return f.createElement("div",(0,a.A)({ref:n,className:g,style:v,role:y?"tablist":void 0},(0,E.A)(e,{aria:!0,data:!0})),M)}));const j=Object.assign(N,{Panel:x}),g=j;j.Panel}}]);