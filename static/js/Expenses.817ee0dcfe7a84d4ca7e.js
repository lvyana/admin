"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[837],{94805:function(e,n,t){var a=t(1413),r=(t(72791),t(36473)),i=t(80184);n.Z=function(e){var n=e.bordered,t=void 0!==n&&n,c=e.children,l=e.style,o=void 0===l?{}:l,s=e.hoverable,u=void 0!==s&&s,d=e.className;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.Z,{hoverable:u,bordered:t,bodyStyle:(0,a.Z)({padding:"16px"},o),className:d,children:c})})}},35443:function(e,n,t){t(72791);var a=t(61431),r=t(22044),i=t(80184);n.Z=function(e){var n=e.children,t=e.title,c=e.overlayInnerStyle,l=e.placement,o=void 0===l?"top":l,s=(e.color,(0,r.Z)().token);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{placement:o,overlayInnerStyle:c,color:s.colorPrimary,title:t,children:n})})}},72725:function(e,n,t){t.d(n,{n:function(){return r}});var a=t(93433),r=function(e,n,t){var r=JSON.parse(JSON.stringify(e));return r.splice.apply(r,[t,0].concat((0,a.Z)(r.splice(n,1)))),r}},83370:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var a=t(1413),r=t(29439),i=t(72791),c=t(17615),l=t(35443),o=t(5058),s=t(57689),u=t(80184),d=function(e){var n=e.buttonEvent,t=(0,s.s0)(),a=(0,i.useState)([]),c=(0,r.Z)(a,2),d=c[0],p=c[1];return{columns:[{title:"名字",dataIndex:"name",key:"name",width:100,align:"center",render:function(e,n){return(0,u.jsx)(l.Z,{placement:"top",overlayInnerStyle:{width:200},title:(0,u.jsx)(u.Fragment,{children:e}),children:(0,u.jsx)("div",{className:"truncate",style:{width:100},onClick:function(){return function(e,n){"name"===e&&t("/mycenter",{state:{name:n.name}})}("name",n)},children:e})})}},{title:"年龄",dataIndex:"age",key:"age",width:100,align:"center",render:function(e){return(0,u.jsx)(l.Z,{placement:"top",overlayInnerStyle:{width:"100px"},title:(0,u.jsx)(u.Fragment,{children:e}),children:(0,u.jsx)("div",{className:"truncate",children:e})})}},{title:"体重",dataIndex:"weight",key:"weight",align:"center",render:function(e){return(0,u.jsx)(l.Z,{placement:"top",overlayInnerStyle:{width:"100px"},title:(0,u.jsx)(u.Fragment,{children:e}),children:(0,u.jsx)("div",{className:"truncate",children:e})})}},{title:"身高",dataIndex:"height",key:"height",align:"center",render:function(e){return(0,u.jsx)(l.Z,{placement:"top",overlayInnerStyle:{width:"100px"},title:(0,u.jsx)(u.Fragment,{children:e}),children:(0,u.jsx)("div",{className:"truncate",children:e})})}},{title:"操作",key:"operation",width:80,align:"center",render:function(e,t){return(0,u.jsx)(o.Z,{btArr:d,onOpenChange:function(e){return function(e,n){e&&p([{type:"修改",name:"修改",btType:"link"},{type:"删除",name:"删除",btType:"link"}])}(e)},onClickBtn:function(e){return n(e,t)}})}}]}},p=t(57773),f=t(94805),h=t(62711),m=t(87309),g=t(11730),x="iAnimateComponent_animateComponentPosition__tLwaC",v=t(40447),y=function(e){var n=e.children,t=(0,i.useState)(!0),a=(0,r.Z)(t,2),c=a[0],l=a[1];return(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{style:{textAlign:"center",display:c?"block":"none"},children:(0,u.jsx)(m.ZP,{shape:"circle",icon:(0,u.jsx)(g.Z,{}),onClick:function(){l(!1)}})}),(0,u.jsx)("div",{className:"animate__animated animate__backInDown",style:{display:c?"none":"block"},children:(0,u.jsxs)(f.Z,{className:"box-shadow",children:[n,(0,u.jsx)("div",{children:(0,u.jsx)(m.ZP,{type:"link",onClick:function(){l(!0)},style:{position:"absolute",bottom:0,left:"50%",transform:"translate(-50%, 0)"},icon:(0,u.jsx)(v.Z,{})})})]})})]})},Z=t(75202),j=function(e){var n=e.form,t=e.formList;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Z.r6,{MaxWidth:1540,children:(0,u.jsx)(y,{children:(0,u.jsx)(h.Z,{form:n,formList:t})})}),(0,u.jsx)(Z.go,{MinWidth:1540,children:(0,u.jsx)(f.Z,{style:{paddingBottom:0},children:(0,u.jsx)(h.Z,{form:n,formList:t})})})]})},k=t(74165),b=t(15861),C=t(3496),S=function(e){var n=e.form,t=e.onFinish,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,i.useState)([]),t=(0,r.Z)(n,2),a=t[0],c=t[1];(0,i.useEffect)((function(){return l(),function(){c([])}}),e);var l=function(){var e=(0,b.Z)((0,k.Z)().mark((function e(){var n,t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.i)();case 2:n=e.sent,t=n.data,c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{statusData:a}}(),c=[{type:"input",name:"name",label:"名称",key:1,layout:{labelCol:{span:6},wrapperCol:{span:18}},span:6},{type:"input",name:"age",label:"年龄",key:2,layout:{labelCol:{span:6},wrapperCol:{span:18}},span:6},{type:"select",name:"status",label:"状态",option:a.statusData,fieldNames:{label:"name",value:"status"},key:3,layout:{labelCol:{span:6},wrapperCol:{span:18}},span:6},{type:"button",name:"button",key:14,span:6,option:[{btType:"primary",type:"subimt",name:"搜索",iconFont:"icon-sousuo"},{type:"onReset",name:"重置",iconFont:"icon-zhongzhi",className:"ml-1"}],style:{marginLeft:"10px"},onClick:t}];return(0,u.jsx)(j,{form:n,formList:c})},w=t(64099),F=t(49655),N=t(85060),I=function(e){var n=e.total,t=e.page,a=e.onPaginationChange,r=(0,F.CG)(N.h2),c=(0,i.useMemo)((function(){return"small"===r?"small":"default"}),[r]),l=t.current,o=l.pageNum,s=l.pageSize;return(0,u.jsx)(w.Z,{style:{marginTop:"30px",float:"right"},total:n,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:o,defaultPageSize:s,current:o,pageSize:s,onChange:function(e,n){t.current={pageSize:n,pageNum:e},a("subimt")},size:c,showTotal:function(e){return"总 ".concat(e," 条")}})},D=t(66106),P=t(30914),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},K=t(8711),T=function(e,n){return i.createElement(K.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:z}))};T.displayName="SettingOutlined";var _=i.forwardRef(T),L=t(93433),A=t(87175),E=t(32014),M=t(51283),O=t(66883),H=t(72725),R=function(e){var n=e.initData,t=e.checkedKeys,a=e.updateInitData,r=e.updateCheckedKeys;return(0,u.jsx)(O.Z,{className:"draggable-tree",checkedKeys:t,onCheck:function(e){r(e)},draggable:!0,blockNode:!0,onDragEnter:function(e){},onDrop:function(e){var t=n.findIndex((function(n){return n.headerFieldId===e.dragNodesKeys[0]}));if((-1!==e.dropPosition||0!==t)&&e.dropPosition!==t)if(-1===e.dropPosition){var r=(0,H.n)(n,t,0);a(r)}else if(e.dropPosition>t){var i=(0,H.n)(n,t,e.dropPosition-1);a(i)}else if(e.dropPosition<t){var c=(0,H.n)(n,t,e.dropPosition);a(c)}},treeData:n,fieldNames:{title:"headerFieldName",key:"headerFieldId",children:"children"},checkable:!0})},V=function(e,n){var t=(0,F.CG)(A.RB),a=(0,i.useState)([]),c=(0,r.Z)(a,2),l=c[0],o=c[1],s=(0,i.useState)([]),u=(0,r.Z)(s,2),d=u[0],p=u[1];return(0,i.useEffect)((function(){if(n){var a=B(e,t);o(a);var r=function(e){return e.reduce((function(e,n){return"true"===n.headerSelected?[].concat((0,L.Z)(e),[n.headerFieldId]):e}),[])}(a);p(r)}}),[t,n]),{headerConfigItem:l,setHeaderConfigItem:o,checkedKeys:d,setCheckedKeys:p}},B=function(e,n){return n.reduce((function(n,t){return t.type===e?t.headerField:n}),[])},G=t(27380);var J=function(e){var n=e.type,t=e.open,a=e.closeHeader,c=(0,F.TL)(),l=V(n,t),o=l.headerConfigItem,s=l.setHeaderConfigItem,d=l.checkedKeys,p=l.setCheckedKeys,f=(0,i.useState)(!1),h=(0,r.Z)(f,2),m=h[0],g=h[1],x=function(){var e=(0,b.Z)((0,k.Z)().mark((function e(){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),t=o.reduce((function(e,n){return-1===d.indexOf(n.headerFieldId)?[].concat((0,L.Z)(e),[n.headerFieldId]):e}),[]),e.prev=2,e.next=5,r={type:n,headerField:t},(0,G.ZP)({url:"/updateHeader",method:"post",data:r});case 5:c((0,A.Mq)()),a(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:g(!1);case 12:case"end":return e.stop()}var r}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){a()},y=(0,i.useState)(!1),Z=(0,r.Z)(y,2),j=Z[0],C=Z[1],S=(0,i.useState)(!1),w=(0,r.Z)(S,2),N=w[0],I=w[1];(0,i.useEffect)((function(){0===d.length?D("0"):o.length===d.length?D("2"):D("1")}),[d]);var D=function(e){"0"===e?(C(!1),I(!1)):"1"===e?(C(!0),I(!1)):"2"===e&&(C(!1),I(!0))};return(0,u.jsxs)(M.Z,{title:"编辑表头",open:t,onOkOrCancel:function(e){"ok"===e?x():"cancel"===e&&v()},confirmLoading:m,children:[(0,u.jsx)(E.Z,{indeterminate:j,onChange:function(e){if(C(!1),I(e.target.checked),e.target.checked){var n=o.reduce((function(e,n){return[].concat((0,L.Z)(e),[n.headerFieldId])}),[]);p(n)}else p([])},checked:N,children:"全选"}),(0,u.jsx)(R,{initData:o,checkedKeys:d,updateInitData:function(e){s(e)},updateCheckedKeys:function(e){p(e)}})]})},W=(0,i.memo)(J),q=function(e){var n=e.children,t=e.type,a=(0,i.useState)(!1),c=(0,r.Z)(a,2),l=c[0],o=c[1],s=(0,i.useCallback)((function(){o(!1)}),[l]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(D.Z,{justify:"space-between",children:[(0,u.jsx)(P.Z,{children:n}),(0,u.jsx)(P.Z,{children:(0,u.jsx)(D.Z,{children:(0,u.jsx)(P.Z,{children:(0,u.jsx)(m.ZP,{type:"link",icon:(0,u.jsx)(_,{}),onClick:function(){o(!0)}})})})})]}),(0,u.jsx)(W,{type:t,open:l,closeHeader:s})]})},Q=function(e){return(0,G.ZP)({url:"/expenses/tabelData",method:"post",data:e})},U=t(46988),X=t(12606),Y=function(e){var n=(0,s.TH)(),t=e||n.pathname,a=(0,F.TL)(),r=(0,F.CG)(X.FV),c=(0,i.useMemo)((function(){return r}),[]),l=["/antd/expenses"];return{initKeepAliveData:c,setKeepAliveData:function(e){l.indexOf(t)>-1&&("/antd/expenses"===t?a((0,X.x7)(e)):U.ZP.error("没有匹配到缓存path"))}}},$=function(){var e=d({buttonEvent:function(e,n){}}).columns,n=c.Z.useForm(),t=(0,r.Z)(n,1)[0],l=function(){var e=(0,i.useState)([]),n=(0,r.Z)(e,2),t=n[0],c=n[1],l=(0,i.useState)(0),o=(0,r.Z)(l,2),s=o[0],u=o[1],d=(0,i.useState)(!1),p=(0,r.Z)(d,2),f=p[0],h=p[1],m=function(){var e=(0,b.Z)((0,k.Z)().mark((function e(n){var t,r,i;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Q((0,a.Z)({},n));case 4:t=e.sent,r=t.data,i=t.total,c(r),u(i),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:h(!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}();return{expensesTableData:t,total:s,getTabelData:m,loading:f}}(),o=l.expensesTableData,s=l.total,h=l.getTabelData,m=l.loading,g=Y(),x=g.initKeepAliveData,v=g.setKeepAliveData,y=(0,i.useRef)({pageSize:(null==x?void 0:x.pageSize)||10,pageNum:(null==x?void 0:x.pageNum)||1}),Z=function(e){v(e)};(0,i.useEffect)((function(){var e=x||{},n=e.pageNum,a=e.pageSize,r=e.name,i=e.age,c=e.status;t.setFieldsValue({name:r,age:i,status:c}),y.current={pageNum:n||y.current.pageNum,pageSize:a||y.current.pageSize},j("subimt")}),[]);var j=function(e){if("subimt"===e){var n=t.getFieldsValue();Z((0,a.Z)((0,a.Z)({},n),y.current))}else if("onReset"===e){t.resetFields();var r=t.getFieldsValue();Z((0,a.Z)((0,a.Z)({},r),y.current))}var i=t.getFieldsValue();h((0,a.Z)((0,a.Z)({},i),y.current))};return(0,u.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[(0,u.jsx)(S,{form:t,onFinish:j}),(0,u.jsxs)(f.Z,{style:{marginTop:"10px"},children:[(0,u.jsx)(q,{type:"expenses"}),(0,u.jsx)(p.Z,{rowKey:"key",columns:e,data:o,loading:m}),(0,u.jsx)(I,{total:s,page:y,onPaginationChange:j})]})]})}}}]);